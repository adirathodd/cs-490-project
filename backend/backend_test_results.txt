Testing analytics endpoint...
[DEBUG] 2025-12-02 15:30:50,232 core.exceptions | custom_exception_handler invoked: exc=NotAuthenticated(), context_keys=['view', 'args', 'kwargs', 'request']
[DEBUG] 2025-12-02 15:30:50,233 core.exceptions | Exception traceback:
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 421, in initial
    self.check_permissions(request)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 339, in check_permissions
    self.permission_denied(
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 180, in permission_denied
    raise exceptions.NotAuthenticated()

[WARNING] 2025-12-02 15:30:50,233 django.request | Unauthorized: /api/jobs/analytics
Without auth - Status: 401
Response: {"error":{"code":"not_authenticated","message":"Authentication credentials were not provided.","messages":["Authentication credentials were not provided."],"details":{"detail":"Authentication credentials were not provided."}}}
[INFO] 2025-12-02 15:30:50,433 core.signals | AUTH login_success user_id=17 username=testuser staff=False superuser=False ip=None
[DEBUG] 2025-12-02 15:30:50,434 core.exceptions | custom_exception_handler invoked: exc=NotAuthenticated(), context_keys=['view', 'args', 'kwargs', 'request']
[DEBUG] 2025-12-02 15:30:50,434 core.exceptions | Exception traceback:
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 421, in initial
    self.check_permissions(request)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 339, in check_permissions
    self.permission_denied(
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 180, in permission_denied
    raise exceptions.NotAuthenticated()

[WARNING] 2025-12-02 15:30:50,434 django.request | Unauthorized: /api/jobs/analytics

With auth - Status: 401
Error response: {"error":{"code":"not_authenticated","message":"Authentication credentials were not provided.","messages":["Authentication credentials were not provided."],"details":{"detail":"Authentication credentials were not provided."}}}
============================================================
RESUME EXPORT DIAGNOSTIC TEST
============================================================

1. Testing import of resume_export module...
   ✓ SUCCESS: resume_export module imported

2. Checking required functions exist...
   ✓ get_available_themes exists
   ✓ export_plain_text exists
   ✓ export_html exists
   ✓ export_docx exists
   ✓ export_resume exists
   ✓ collect_profile_data exists

3. Testing get_available_themes()...
   ✓ SUCCESS: Found 4 themes
      - professional: Professional
      - modern: Modern
      - minimal: Minimal
      - creative: Creative

4. Checking required dependencies...
   ✓ python-docx installed
   ✓ Jinja2 installed
   ✓ Django installed

5. Checking for test user profile...
   ✗ FAILED: cannot import name 'User' from 'core.models' (/app/core/models.py)

6. Testing export_plain_text with dummy data...
   ✗ FAILED: 'experiences'
Traceback (most recent call last):
  File "/app/test_resume_export_quick.py", line 101, in <module>
    content = resume_export.export_plain_text(dummy_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/resume_export.py", line 273, in export_plain_text
    if profile_data['experiences']:
       ~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'experiences'

============================================================
DIAGNOSTIC COMPLETE
============================================================
Found 200 test(s).
Using existing test database for alias 'default'...
