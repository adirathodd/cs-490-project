============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0 -- /usr/local/bin/python3.12
cachedir: .pytest_cache
django: version: 5.2.8, settings: backend.settings (from env)
rootdir: /app
configfile: pytest.ini
plugins: anyio-4.11.0, Faker-37.12.0, cov-7.0.0, django-4.11.1
collecting ... collected 527 items

core/tests/research/test_automated_company_research.py::TestCompanyResearchService::test_comprehensive_research_flow ERROR [  0%]
core/tests/research/test_automated_company_research.py::TestAutomatedResearchEndpoint::test_trigger_research PASSED [  0%]
core/tests/research/test_automated_company_research.py::TestCompanyResearchReportEndpoint::test_get_report PASSED [  0%]
core/tests/research/test_automated_company_research.py::TestCompanyResearchReportEndpoint::test_report_not_found PASSED [  0%]
core/tests/research/test_automated_company_research.py::TestRefreshCompanyResearchEndpoint::test_refresh PASSED [  0%]
core/tests/research/test_automated_company_research.py::TestEdgeCasesAndErrors::test_no_data_available PASSED [  1%]
core/tests/research/test_automated_company_research.py::TestEdgeCasesAndErrors::test_news_fetch_failure PASSED [  1%]
core/tests/research/test_automated_company_research.py::TestIntegration::test_end_to_end PASSED [  1%]
core/tests/research/test_company_news.py::test_fetch_company_news_command PASSED [  1%]
core/tests/research/test_multi_source_scraping.py::WikipediaScraperTest::test_fetch_wikipedia_data_success PASSED [  1%]
core/tests/research/test_multi_source_scraping.py::WikipediaScraperTest::test_wikipedia_company_page_detection PASSED [  2%]
core/tests/research/test_multi_source_scraping.py::WikipediaScraperTest::test_wikipedia_scraper_no_results PASSED [  2%]
core/tests/research/test_multi_source_scraping.py::WikidataScraperTest::test_fetch_wikidata_success PASSED [  2%]
core/tests/research/test_multi_source_scraping.py::LinkedInScraperTest::test_fetch_linkedin_data_no_url PASSED [  2%]
core/tests/research/test_multi_source_scraping.py::LinkedInScraperTest::test_fetch_linkedin_data_with_url PASSED [  2%]
core/tests/research/test_multi_source_scraping.py::GitHubScraperTest::test_fetch_github_data_success PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::MultiSourceAggregationTest::test_aggregate_basic_info_priority PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::MultiSourceAggregationTest::test_research_integration PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::CompanyResearchServiceTest::test_save_research_updates_company_model PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::CompanyResearchServiceTest::test_yfinance_validation_accepts_correct_company PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::CompanyResearchServiceTest::test_yfinance_validation_rejects_wrong_company PASSED [  3%]
core/tests/research/test_multi_source_scraping.py::IntegrationTest::test_real_company_research PASSED [  4%]
core/tests/research/test_multi_source_scraping.py::IntegrationTest::test_real_wikipedia_scraping PASSED [  4%]
core/tests/test_account_deletion.py::TestAccountDeletion::test_request_deletion_creates_token_and_sends_200 PASSED [  4%]
core/tests/test_account_deletion.py::TestAccountDeletion::test_request_deletion_token_expires_in_one_hour PASSED [  4%]
core/tests/test_account_deletion.py::TestAccountDeletion::test_confirm_deletion_removes_user_and_profile PASSED [  4%]
core/tests/test_account_deletion.py::TestAccountDeletion::test_request_deletion_requires_auth PASSED [  5%]
core/tests/test_auth_linking.py::test_google_login_does_not_overwrite_password_and_preserves_name PASSED [  5%]
core/tests/test_auth_linking.py::test_github_login_handles_duplicate_users_by_email PASSED [  5%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_invalid_email PASSED [  5%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_missing_first_name PASSED [  5%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_missing_last_name PASSED [  6%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_password_mismatch PASSED [  6%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_password_no_number PASSED [  6%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_password_no_uppercase PASSED [  6%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_password_too_short PASSED [  6%]
core/tests/test_authentication.py::UserRegistrationTests::test_registration_weak_password PASSED [  7%]
core/tests/test_authentication.py::UserRegistrationTests::test_successful_registration PASSED [  7%]
core/tests/test_authentication.py::TokenVerificationTests::test_invalid_token_verification PASSED [  7%]
core/tests/test_authentication.py::TokenVerificationTests::test_missing_token PASSED [  7%]
core/tests/test_authentication.py::TokenVerificationTests::test_valid_token_verification PASSED [  7%]
core/tests/test_authentication.py::LogoutTests::test_logout_unauthenticated PASSED [  7%]
core/tests/test_authentication.py::LogoutTests::test_successful_logout PASSED [  8%]
core/tests/test_authentication.py::OAuthGitHubTests::test_github_oauth_new_user PASSED [  8%]
core/tests/test_authentication.py::PasswordValidationTests::test_password_common_validation PASSED [  8%]
core/tests/test_authentication.py::PasswordValidationTests::test_password_hashing PASSED [  8%]
core/tests/test_authentication.py::PasswordValidationTests::test_password_length_validation PASSED [  8%]
core/tests/test_automation_simple.py::test_generate_resume_returns_none_when_no_api_key PASSED [  9%]
core/tests/test_automation_simple.py::test_generate_cover_letter_returns_none_when_no_api_key PASSED [  9%]
core/tests/test_career_goals_progress.py::TestCareerGoalProgressAPI::test_update_progress_accepts_decimal_input PASSED [  9%]
core/tests/test_career_goals_progress.py::TestCareerGoalProgressAPI::test_update_progress_rejects_invalid_values PASSED [  9%]
core/tests/test_certifications.py::CertificationCRUDTests::test_add_certification PASSED [  9%]
core/tests/test_certifications.py::CertificationCRUDTests::test_delete_certification PASSED [ 10%]
core/tests/test_certifications.py::CertificationCRUDTests::test_list_certifications PASSED [ 10%]
core/tests/test_certifications.py::CertificationCRUDTests::test_update_certification PASSED [ 10%]
core/tests/test_certifications.py::CertificationExpirationTests::test_does_not_expire PASSED [ 10%]
core/tests/test_certifications.py::CertificationExpirationTests::test_expired_certification PASSED [ 10%]
core/tests/test_certifications.py::CertificationRenewalTests::test_renewal_reminder PASSED [ 11%]
core/tests/test_company_info.py::TestCompanyInfoEndpoint::test_get_existing_company_info PASSED [ 11%]
core/tests/test_company_info.py::TestCompanyInfoEndpoint::test_get_company_case_insensitive PASSED [ 11%]
core/tests/test_company_info.py::TestCompanyInfoEndpoint::test_create_new_company_on_first_lookup PASSED [ 11%]
core/tests/test_company_info.py::TestJobCompanyInfoEndpoint::test_get_company_info_for_job PASSED [ 11%]
core/tests/test_company_info.py::TestJobCompanyInfoEndpoint::test_job_company_info_creates_company_if_missing PASSED [ 11%]
core/tests/test_company_info.py::TestJobCompanyInfoEndpoint::test_job_company_info_handles_missing_company_name PASSED [ 12%]
core/tests/test_company_info.py::TestJobCompanyInfoEndpoint::test_job_company_info_requires_job_ownership PASSED [ 12%]
core/tests/test_company_info.py::TestJobDetailWithCompanyInfo::test_job_detail_includes_company_info PASSED [ 12%]
core/tests/test_company_info.py::TestJobDetailWithCompanyInfo::test_job_update_includes_company_info_in_response PASSED [ 12%]
core/tests/test_company_info.py::TestCompanySerializer::test_serialize_company_with_research PASSED [ 12%]
core/tests/test_company_info.py::TestCompanySerializer::test_serialize_company_without_research PASSED [ 13%]
core/tests/test_contacts_additional.py::test_interaction_note_reminder_and_mutuals_flow PASSED [ 13%]
core/tests/test_contacts_additional.py::test_process_import_job_updates_and_handles_errors PASSED [ 13%]
core/tests/test_contacts_api.py::test_contacts_create_list_and_detail_flow PASSED [ 13%]
core/tests/test_contacts_crud_notes_reminders.py::test_contacts_crud_and_related_endpoints PASSED [ 13%]
core/tests/test_contacts_import_and_mutuals.py::test_contacts_import_start_and_callback_and_mutuals PASSED [ 14%]
core/tests/test_contacts_import_and_mutuals.py::test_contacts_import_start_missing_google_credentials PASSED [ 14%]
core/tests/test_contacts_import_and_mutuals.py::test_contact_mutuals_and_notes_interactions_reminders PASSED [ 14%]
core/tests/test_contacts_search_delete_and_enqueue.py::test_contacts_search_and_delete PASSED [ 14%]
core/tests/test_contacts_search_delete_and_enqueue.py::test_contacts_import_callback_no_code_and_enqueue_branch PASSED [ 14%]
core/tests/test_cover_letter_ai.py::TestAICoverLetterEndpoint::test_ai_cover_letter_requires_api_key PASSED [ 14%]
core/tests/test_cover_letter_ai.py::TestAICoverLetterEndpoint::test_ai_cover_letter_success PASSED [ 15%]
core/tests/test_cover_letter_ai.py::TestAICoverLetterEndpoint::test_ai_cover_letter_handles_generation_error PASSED [ 15%]
core/tests/test_cover_letter_ai.py::TestAICoverLetterEndpoint::test_ai_cover_letter_job_not_found PASSED [ 15%]
core/tests/test_cover_letter_ai.py::TestCoverLetterLatexGeneration::test_generate_cover_letter_latex PASSED [ 15%]
core/tests/test_cover_letter_ai.py::TestCoverLetterLatexGeneration::test_latex_escaping PASSED [ 15%]
core/tests/test_cover_letter_generation.py::CoverLetterGenerationTests::test_generate_with_invalid_enums_returns_400 PASSED [ 16%]
core/tests/test_cover_letter_generation.py::CoverLetterGenerationTests::test_generate_with_valid_customization PASSED [ 16%]
core/tests/test_coverage_boost.py::UserProfileSerializerCoverageTests::test_update_with_user_data_path PASSED [ 16%]
core/tests/test_coverage_boost.py::UserProfileSerializerCoverageTests::test_validate_phone_invalid PASSED [ 16%]
core/tests/test_coverage_boost.py::UserProfileSerializerCoverageTests::test_validate_summary_too_long PASSED [ 16%]
core/tests/test_coverage_boost.py::WorkExperienceSerializerCoverageTests::test_create_method_with_skills PASSED [ 17%]
core/tests/test_coverage_boost.py::WorkExperienceSerializerCoverageTests::test_update_method_with_skills_set PASSED [ 17%]
core/tests/test_coverage_boost.py::WorkExperienceSerializerCoverageTests::test_update_method_without_skills PASSED [ 17%]
core/tests/test_coverage_boost.py::WorkExperienceSerializerCoverageTests::test_validate_end_before_start PASSED [ 17%]
core/tests/test_deadline_reminders.py::test_three_day_reminder_sent PASSED [ 17%]
core/tests/test_deadline_reminders.py::test_day_of_reminder_sent PASSED  [ 18%]
core/tests/test_deadline_reminders.py::test_no_emails_for_applied_status PASSED [ 18%]
core/tests/test_deadline_reminders.py::test_mixed_jobs_counts PASSED     [ 18%]
core/tests/test_deadline_reminders.py::test_html_contains_brand_and_link_three_day PASSED [ 18%]
core/tests/test_deadline_reminders.py::test_multiple_users_isolation PASSED [ 18%]
core/tests/test_deadline_reminders.py::test_command_stdout_counts PASSED [ 18%]
core/tests/test_deadline_reminders.py::test_frontend_url_override_used PASSED [ 19%]
core/tests/test_deadline_reminders.py::test_send_failure_does_not_set_timestamp PASSED [ 19%]
core/tests/test_deadline_reminders.py::test_rejected_status_excluded PASSED [ 19%]
core/tests/test_deadline_reminders.py::test_skips_when_no_email PASSED   [ 19%]
core/tests/test_deadline_reminders.py::test_skips_when_deadline_missing PASSED [ 19%]
core/tests/test_education.py::EducationCRUDTests::test_add_education PASSED [ 20%]
core/tests/test_education.py::EducationCRUDTests::test_delete_education PASSED [ 20%]
core/tests/test_education.py::EducationCRUDTests::test_list_education PASSED [ 20%]
core/tests/test_education.py::EducationCRUDTests::test_update_education PASSED [ 20%]
core/tests/test_employment.py::WorkExperienceCRUDTests::test_add_work_experience PASSED [ 20%]
core/tests/test_employment.py::WorkExperienceCRUDTests::test_delete_work_experience PASSED [ 21%]
core/tests/test_employment.py::WorkExperienceCRUDTests::test_list_work_experiences PASSED [ 21%]
core/tests/test_employment.py::WorkExperienceCRUDTests::test_update_work_experience PASSED [ 21%]
core/tests/test_employment.py::CurrentEmploymentTests::test_current_job_sets_end_date_null PASSED [ 21%]
core/tests/test_employment.py::CurrentEmploymentTests::test_past_job_requires_end_date PASSED [ 21%]
core/tests/test_employment.py::CurrentEmploymentTests::test_update_to_current_position PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceDateValidationTests::test_end_date_after_start_date PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceDateValidationTests::test_future_start_date_allowed PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceSkillsTests::test_add_work_experience_with_skills PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceSkillsTests::test_update_skills_used PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceAchievementsTests::test_add_achievements PASSED [ 22%]
core/tests/test_employment.py::WorkExperienceAchievementsTests::test_empty_achievements_allowed PASSED [ 23%]
core/tests/test_employment.py::WorkExperienceRequiredFieldsTests::test_company_required PASSED [ 23%]
core/tests/test_employment.py::WorkExperienceRequiredFieldsTests::test_job_title_required PASSED [ 23%]
core/tests/test_employment.py::WorkExperienceRequiredFieldsTests::test_start_date_required PASSED [ 23%]
core/tests/test_fetch_company_data.py::test_fetch_company_data_uses_yfinance PASSED [ 23%]
core/tests/test_import_and_match_score.py::test_import_job_from_url_success_and_retryable PASSED [ 24%]
core/tests/test_import_and_match_score.py::test_job_match_score_cached_and_post PASSED [ 24%]
core/tests/test_interview_followup.py::InterviewFollowUpTests::test_build_followup_prompt PASSED [ 24%]
core/tests/test_interview_followup.py::InterviewFollowUpTests::test_run_followup_generation_fallback PASSED [ 24%]
core/tests/test_interview_followup.py::InterviewFollowUpTests::test_run_followup_generation_success PASSED [ 24%]
core/tests/test_interview_insights.py::TestInterviewInsightsEndpoint::test_interview_insights_returns_expected_structure PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewInsightsEndpoint::test_preparation_checklist_toggle_persists PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewInsightsEndpoint::test_interview_insights_requires_job_ownership PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_question_bank_structure PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_question_practice_logging PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_question_response_coach_endpoint PASSED [ 25%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_practice_history_includes_coaching PASSED [ 26%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_question_bank_caching_and_refresh PASSED [ 26%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_interview_insights_requires_authentication PASSED [ 26%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_interview_insights_technical_vs_non_technical PASSED [ 26%]
core/tests/test_interview_insights.py::TestInterviewQuestionBankEndpoint::test_interview_insights_for_nonexistent_job PASSED [ 26%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_tracker_initialization PASSED [ 27%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_conversion_rates_over_time_empty PASSED [ 27%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_conversion_rates_over_time_with_data PASSED [ 27%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_analyze_by_interview_format PASSED [ 27%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_track_mock_to_real_improvement PASSED [ 27%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_analyze_by_industry PASSED [ 28%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_track_feedback_themes PASSED [ 28%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_monitor_confidence_progression PASSED [ 28%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_generate_coaching_recommendations PASSED [ 28%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_benchmark_against_patterns PASSED [ 28%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_get_complete_analysis PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_high_conversion_rate_benchmark PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTracker::test_low_conversion_rate_benchmark PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTrackingAPI::test_unauthenticated_access_denied PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTrackingAPI::test_authenticated_access_no_data PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTrackingAPI::test_authenticated_access_with_data PASSED [ 29%]
core/tests/test_interview_performance_tracking.py::TestInterviewPerformanceTrackingAPI::test_response_structure_validation PASSED [ 30%]
core/tests/test_interview_performance_tracking.py::TestEdgeCases::test_single_interview_conversion_rate PASSED [ 30%]
core/tests/test_interview_performance_tracking.py::TestEdgeCases::test_all_pending_interviews PASSED [ 30%]
core/tests/test_interview_performance_tracking.py::TestEdgeCases::test_single_format_only PASSED [ 30%]
core/tests/test_interview_performance_tracking.py::TestEdgeCases::test_very_old_data_filtering PASSED [ 30%]
core/tests/test_interview_reminders.py::SendInterviewRemindersCommandTests::test_followup_reminder_marks_event_and_notification PASSED [ 31%]
core/tests/test_interview_reminders.py::SendInterviewRemindersCommandTests::test_send_24h_reminder_sets_flags PASSED [ 31%]
core/tests/test_interview_reminders.py::SendInterviewRemindersCommandTests::test_send_2h_reminder_only PASSED [ 31%]
core/tests/test_interview_success.py::TestInterviewSuccessForecast::test_success_forecast_returns_probability_and_actions PASSED [ 31%]
core/tests/test_interview_success.py::TestInterviewSuccessForecast::test_accuracy_populates_when_outcome_recorded PASSED [ 31%]
core/tests/test_job_import.py::TestJobImportAPI::test_import_endpoint_requires_authentication PASSED [ 32%]
core/tests/test_job_import.py::TestJobImportAPI::test_import_endpoint_requires_url PASSED [ 32%]
core/tests/test_job_import.py::TestJobImportAPI::test_import_endpoint_success PASSED [ 32%]
core/tests/test_job_import.py::TestJobImportAPI::test_import_endpoint_failure PASSED [ 32%]
core/tests/test_job_import.py::TestJobImportAPI::test_import_endpoint_retryable_failure PASSED [ 32%]
core/tests/test_jobs.py::TestJobsAPI::test_create_list_delete_and_validation PASSED [ 33%]
core/tests/test_jobs.py::TestJobsAPI::test_list_with_filters_and_search_returns_enhanced_payload PASSED [ 33%]
core/tests/test_jobs.py::TestJobsAPI::test_bulk_status_updates_and_stats_endpoint PASSED [ 33%]
core/tests/test_jobs.py::TestJobsAPI::test_jobs_bulk_deadline_and_upcoming_deadlines PASSED [ 33%]
core/tests/test_jobs_stats.py::TestJobsStatsEndpoint::test_daily_breakdown_for_month PASSED [ 33%]
core/tests/test_jobs_stats.py::TestJobsStatsEndpoint::test_csv_export_scoped_to_month PASSED [ 33%]
core/tests/test_mock_interview.py::TestMockInterviewModels::test_create_session PASSED [ 34%]
core/tests/test_mock_interview.py::TestMockInterviewModels::test_mark_completed PASSED [ 34%]
core/tests/test_mock_interview.py::TestMockInterviewModels::test_calculate_overall_score PASSED [ 34%]
core/tests/test_mock_interview.py::TestMockInterviewModels::test_submit_answer PASSED [ 34%]
core/tests/test_mock_interview.py::TestMockInterviewAPI::test_start_mock_interview PASSED [ 34%]
core/tests/test_mock_interview.py::TestMockInterviewAPI::test_submit_answer PASSED [ 35%]
core/tests/test_mock_interview.py::TestMockInterviewAPI::test_complete_interview PASSED [ 35%]
core/tests/test_mock_interview.py::TestMockInterviewAPI::test_list_mock_interviews PASSED [ 35%]
core/tests/test_mock_interview.py::TestMockInterviewAPI::test_get_session_detail PASSED [ 35%]
core/tests/test_mock_interview.py::TestMockInterviewService::test_generate_questions PASSED [ 35%]
core/tests/test_mock_interview.py::TestMockInterviewService::test_evaluate_answer PASSED [ 36%]
core/tests/test_mock_interview.py::TestMockInterviewPermissions::test_user_cannot_access_other_user_session PASSED [ 36%]
core/tests/test_mock_interview.py::TestMockInterviewPermissions::test_unauthenticated_access_denied PASSED [ 36%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_invalid_interview_type PASSED [ 36%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_empty_answer_rejected PASSED [ 36%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_complete_without_all_answers PASSED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_invalid_question_count PASSED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_question_count_too_high PASSED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_invalid_difficulty_level SKIPPED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_answer_to_nonexistent_question PASSED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_complete_already_completed_session FAILED [ 37%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_session_with_job_context PASSED [ 38%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_session_without_job_context PASSED [ 38%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_multiple_active_sessions PASSED [ 38%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_ai_generation_failure_uses_fallback PASSED [ 38%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_update_answer_multiple_times PASSED [ 38%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_session_serialization PASSED [ 39%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_list_sessions_pagination PASSED [ 39%]
core/tests/test_mock_interview.py::TestMockInterviewEdgeCases::test_session_with_focus_areas PASSED [ 39%]
core/tests/test_models.py::UserModelTests::test_create_user PASSED       [ 39%]
core/tests/test_models.py::UserModelTests::test_user_string_representation PASSED [ 39%]
core/tests/test_models.py::CandidateProfileModelTests::test_default_visibility_private PASSED [ 40%]
core/tests/test_models.py::CandidateProfileModelTests::test_get_full_location PASSED [ 40%]
core/tests/test_models.py::CandidateProfileModelTests::test_get_full_location_city_only PASSED [ 40%]
core/tests/test_models.py::CandidateProfileModelTests::test_get_full_name PASSED [ 40%]
core/tests/test_models.py::CandidateProfileModelTests::test_phone_validation PASSED [ 40%]
core/tests/test_models.py::SkillModelTests::test_create_skill PASSED     [ 40%]
core/tests/test_models.py::SkillModelTests::test_skill_name_unique PASSED [ 41%]
core/tests/test_models.py::SkillModelTests::test_skill_string_representation PASSED [ 41%]
core/tests/test_models.py::CandidateSkillModelTests::test_cascade_delete_on_profile_delete PASSED [ 41%]
core/tests/test_models.py::CandidateSkillModelTests::test_create_candidate_skill PASSED [ 41%]
core/tests/test_models.py::CandidateSkillModelTests::test_unique_profile_skill_combination PASSED [ 41%]
core/tests/test_models.py::EducationModelTests::test_create_education PASSED [ 42%]
core/tests/test_models.py::EducationModelTests::test_currently_enrolled_no_end_date PASSED [ 42%]
core/tests/test_models.py::EducationModelTests::test_education_string_representation PASSED [ 42%]
core/tests/test_models.py::WorkExperienceModelTests::test_create_work_experience PASSED [ 42%]
core/tests/test_models.py::WorkExperienceModelTests::test_is_current_no_end_date PASSED [ 42%]
core/tests/test_models.py::WorkExperienceModelTests::test_work_experience_string_representation PASSED [ 43%]
core/tests/test_models.py::CertificationModelTests::test_create_certification PASSED [ 43%]
core/tests/test_models.py::CertificationModelTests::test_days_until_expiration PASSED [ 43%]
core/tests/test_models.py::CertificationModelTests::test_is_expired_method PASSED [ 43%]
core/tests/test_models.py::CertificationModelTests::test_never_expires_no_expiry_date PASSED [ 43%]
core/tests/test_models.py::ProjectModelTests::test_create_project PASSED [ 44%]
core/tests/test_models.py::ProjectModelTests::test_project_status_choices PASSED [ 44%]
core/tests/test_models.py::ProjectModelTests::test_project_string_representation PASSED [ 44%]
core/tests/test_models_contacts.py::test_account_deletion_request_create_and_consume PASSED [ 44%]
core/tests/test_models_contacts.py::test_contact_and_tag_relations PASSED [ 44%]
core/tests/test_models_uc086.py::test_uc086_models_basic_relations PASSED [ 44%]
core/tests/test_profile.py::ProfileRetrievalTests::test_get_own_profile PASSED [ 45%]
core/tests/test_profile.py::ProfileRetrievalTests::test_get_profile_unauthenticated PASSED [ 45%]
core/tests/test_profile.py::ProfileRetrievalTests::test_profile_includes_full_name PASSED [ 45%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_invalid_phone_format PASSED [ 45%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_partial_update_with_patch PASSED [ 45%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_summary_character_limit PASSED [ 46%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_update_contact_info PASSED [ 46%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_update_name PASSED [ 46%]
core/tests/test_profile.py::BasicProfileUpdateTests::test_update_professional_info PASSED [ 46%]
core/tests/test_profile.py::ProfilePictureUploadTests::test_delete_picture_when_none_exists PASSED [ 46%]
core/tests/test_profile.py::ProfilePictureUploadTests::test_delete_profile_picture PASSED [ 47%]
core/tests/test_profile.py::ProfilePictureUploadTests::test_upload_invalid_file_type PASSED [ 47%]
core/tests/test_profile.py::ProfilePictureUploadTests::test_upload_no_file PASSED [ 47%]
core/tests/test_profile.py::ProfilePictureUploadTests::test_upload_valid_image PASSED [ 47%]
core/tests/test_profile.py::ProfileAccessControlTests::test_unauthenticated_cannot_update_profile PASSED [ 47%]
core/tests/test_profile.py::ProfileAccessControlTests::test_user_cannot_access_other_profile PASSED [ 48%]
core/tests/test_profile.py::ProfileVisibilityTests::test_default_visibility_is_private PASSED [ 48%]
core/tests/test_profile.py::ProfileVisibilityTests::test_update_visibility_setting PASSED [ 48%]
core/tests/test_projects.py::ProjectCRUDTests::test_add_project PASSED   [ 48%]
core/tests/test_projects.py::ProjectCRUDTests::test_delete_project PASSED [ 48%]
core/tests/test_projects.py::ProjectCRUDTests::test_list_projects PASSED [ 48%]
core/tests/test_projects.py::ProjectCRUDTests::test_update_project PASSED [ 49%]
core/tests/test_projects.py::ProjectPortfolioTests::test_project_featured PASSED [ 49%]
core/tests/test_projects.py::ProjectPortfolioTests::test_project_with_url PASSED [ 49%]
core/tests/test_projects.py::ProjectTechnologiesTests::test_project_with_technologies PASSED [ 49%]
core/tests/test_references.py::TestProfessionalReferenceModel::test_create_reference PASSED [ 49%]
core/tests/test_references.py::TestProfessionalReferenceModel::test_reference_defaults PASSED [ 50%]
core/tests/test_references.py::TestProfessionalReferenceModel::test_reference_json_fields PASSED [ 50%]
core/tests/test_references.py::TestReferenceRequestModel::test_create_request PASSED [ 50%]
core/tests/test_references.py::TestReferenceRequestModel::test_request_with_application PASSED [ 50%]
core/tests/test_references.py::TestReferenceTemplateModel::test_create_template PASSED [ 50%]
core/tests/test_references.py::TestReferenceTemplateModel::test_template_with_preferences PASSED [ 51%]
core/tests/test_references.py::TestReferenceAppreciationModel::test_create_appreciation PASSED [ 51%]
core/tests/test_references.py::TestReferencePortfolioModel::test_create_portfolio PASSED [ 51%]
core/tests/test_references.py::TestReferencePortfolioModel::test_portfolio_targets PASSED [ 51%]
core/tests/test_references.py::TestReferenceEndpoints::test_list_references PASSED [ 51%]
core/tests/test_references.py::TestReferenceEndpoints::test_list_references_filtered PASSED [ 51%]
core/tests/test_references.py::TestReferenceEndpoints::test_create_reference PASSED [ 52%]
core/tests/test_references.py::TestReferenceEndpoints::test_get_reference_detail PASSED [ 52%]
core/tests/test_references.py::TestReferenceEndpoints::test_update_reference PASSED [ 52%]
core/tests/test_references.py::TestReferenceEndpoints::test_delete_reference PASSED [ 52%]
core/tests/test_references.py::TestReferenceEndpoints::test_check_in_reference PASSED [ 52%]
core/tests/test_references.py::TestReferenceRequestEndpoints::test_list_requests PASSED [ 53%]
core/tests/test_references.py::TestReferenceRequestEndpoints::test_create_request PASSED [ 53%]
core/tests/test_references.py::TestReferenceRequestEndpoints::test_create_request_with_template PASSED [ 53%]
core/tests/test_references.py::TestReferenceRequestEndpoints::test_mark_request_sent PASSED [ 53%]
core/tests/test_references.py::TestReferenceRequestEndpoints::test_mark_request_completed PASSED [ 53%]
core/tests/test_references.py::TestReferenceTemplateEndpoints::test_list_templates PASSED [ 54%]
core/tests/test_references.py::TestReferenceTemplateEndpoints::test_create_template PASSED [ 54%]
core/tests/test_references.py::TestReferenceAppreciationEndpoints::test_list_appreciations PASSED [ 54%]
core/tests/test_references.py::TestReferenceAppreciationEndpoints::test_create_appreciation PASSED [ 54%]
core/tests/test_references.py::TestReferencePortfolioEndpoints::test_list_portfolios PASSED [ 54%]
core/tests/test_references.py::TestReferencePortfolioEndpoints::test_create_portfolio PASSED [ 55%]
core/tests/test_references.py::TestReferenceAnalytics::test_analytics_basic PASSED [ 55%]
core/tests/test_references.py::TestReferenceAnalytics::test_analytics_with_requests PASSED [ 55%]
core/tests/test_references.py::TestPreparationGuide::test_generate_preparation_guide PASSED [ 55%]
core/tests/test_references.py::TestPreparationGuide::test_preparation_guide_missing_reference PASSED [ 55%]
core/tests/test_references.py::TestAuthenticationRequired::test_list_references_unauthenticated PASSED [ 55%]
core/tests/test_references.py::TestAuthenticationRequired::test_analytics_unauthenticated PASSED [ 56%]
core/tests/test_references.py::TestUserIsolation::test_user_cannot_see_other_references PASSED [ 56%]
core/tests/test_referrals_api.py::ReferralStatusAPITests::test_mark_completed_and_uncomplete PASSED [ 56%]
core/tests/test_referrals_api.py::ReferralStatusAPITests::test_mark_response_accepted PASSED [ 56%]
core/tests/test_referrals_api.py::ReferralStatusAPITests::test_mark_sent PASSED [ 56%]
core/tests/test_referrals_unmark.py::ReferralUnmarkTestCase::test_unmark_completed_clears_completed_date_and_updates_status PASSED [ 57%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_ai_resume_requires_api_key PASSED [ 57%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_ai_resume_success PASSED [ 57%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_ai_resume_handles_generation_error PASSED [ 57%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_ai_resume_job_not_found PASSED [ 57%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_tailor_experience_variations_endpoint PASSED [ 58%]
core/tests/test_resume_ai.py::TestAIResumeEndpoint::test_tailor_experience_bullet_endpoint PASSED [ 58%]
core/tests/test_resume_export.py::TestResumeExportService::test_collect_profile_data PASSED [ 58%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_plain_text PASSED [ 58%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_html PASSED [ 58%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_html_with_watermark PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_docx PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_resume_invalid_format PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_resume_txt PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_resume_html PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_resume_docx PASSED [ 59%]
core/tests/test_resume_export.py::TestResumeExportService::test_export_resume_custom_filename PASSED [ 60%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_get_themes PASSED [ 60%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_without_format PASSED [ 60%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_invalid_format PASSED [ 60%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_txt PASSED [ 60%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_html PASSED [ 61%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_docx PASSED [ 61%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_with_watermark PASSED [ 61%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_with_custom_filename PASSED [ 61%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_without_profile PASSED [ 61%]
core/tests/test_resume_export.py::TestResumeExportEdgeCases::test_export_empty_profile PASSED [ 62%]
core/tests/test_resume_export.py::TestResumeExportEdgeCases::test_export_html_special_characters PASSED [ 62%]
core/tests/test_resume_export.py::TestResumeExportEdgeCases::test_export_all_themes PASSED [ 62%]
core/tests/test_resume_export.py::TestResumeExportEdgeCases::test_export_long_content PASSED [ 62%]
core/tests/test_resume_export.py::TestResumeExportEdgeCases::test_export_unicode_characters PASSED [ 62%]
core/tests/test_resume_export_success.py::test_resume_export_txt_success PASSED [ 62%]
core/tests/test_salary_negotiation.py::TestSalaryNegotiationPrep::test_plan_is_generated_on_first_request PASSED [ 63%]
core/tests/test_salary_negotiation.py::TestSalaryNegotiationPrep::test_plan_refresh_accepts_offer_details PASSED [ 63%]
core/tests/test_salary_negotiation.py::TestSalaryNegotiationPrep::test_outcome_logging_and_stats PASSED [ 63%]
core/tests/test_serializers.py::UserSerializerTests::test_serialize_user PASSED [ 63%]
core/tests/test_serializers.py::UserSerializerTests::test_validate_email_format PASSED [ 63%]
core/tests/test_serializers.py::ProfileSerializerTests::test_update_method_with_user_data PASSED [ 64%]
core/tests/test_serializers.py::ProfileSerializerTests::test_validate_phone_format_invalid PASSED [ 64%]
core/tests/test_serializers.py::ProfileSerializerTests::test_validate_phone_format_valid PASSED [ 64%]
core/tests/test_serializers.py::ProfileSerializerTests::test_validate_summary_max_length PASSED [ 64%]
core/tests/test_serializers.py::ProfilePictureUploadSerializerTests::test_validate_profile_picture_corrupted_image PASSED [ 64%]
core/tests/test_serializers.py::ProfilePictureUploadSerializerTests::test_validate_profile_picture_invalid_extension PASSED [ 65%]
core/tests/test_serializers.py::ProfilePictureUploadSerializerTests::test_validate_profile_picture_size_too_large PASSED [ 65%]
core/tests/test_serializers.py::ProfilePictureUploadSerializerTests::test_validate_profile_picture_valid_formats PASSED [ 65%]
core/tests/test_serializers.py::WorkExperienceSerializerTests::test_create_with_skills PASSED [ 65%]
core/tests/test_serializers.py::WorkExperienceSerializerTests::test_update_with_skills PASSED [ 65%]
core/tests/test_serializers.py::WorkExperienceSerializerTests::test_validate_end_date_before_start_date PASSED [ 66%]
core/tests/test_serializers.py::SkillSerializerTests::test_create_skill PASSED [ 66%]
core/tests/test_serializers.py::SkillSerializerTests::test_serialize_skill PASSED [ 66%]
core/tests/test_serializers.py::EducationSerializerTests::test_gpa_range_validation PASSED [ 66%]
core/tests/test_serializers.py::EducationSerializerTests::test_serialize_education PASSED [ 66%]
core/tests/test_serializers.py::EducationSerializerTests::test_validate_date_range PASSED [ 66%]
core/tests/test_serializers.py::CertificationSerializerTests::test_serialize_certification PASSED [ 67%]
core/tests/test_serializers.py::CertificationSerializerTests::test_validate_never_expires_logic PASSED [ 67%]
core/tests/test_serializers.py::ProjectSerializerTests::test_serialize_project PASSED [ 67%]
core/tests/test_serializers.py::ProjectSerializerTests::test_status_validation PASSED [ 67%]
core/tests/test_serializers.py::ProjectSerializerTests::test_team_size_positive PASSED [ 67%]
core/tests/test_skills.py::SkillCRUDTests::test_add_skill_to_profile PASSED [ 68%]
core/tests/test_skills.py::SkillCRUDTests::test_delete_skill PASSED      [ 68%]
core/tests/test_skills.py::SkillCRUDTests::test_list_candidate_skills PASSED [ 68%]
core/tests/test_skills.py::SkillCRUDTests::test_prevent_duplicate_skills PASSED [ 68%]
core/tests/test_skills.py::SkillCRUDTests::test_update_skill_proficiency PASSED [ 68%]
core/tests/test_skills.py::SkillSearchAndAutocompleteTests::test_search_case_insensitive SKIPPED [ 69%]
core/tests/test_skills.py::SkillSearchAndAutocompleteTests::test_search_returns_empty_for_no_match SKIPPED [ 69%]
core/tests/test_skills.py::SkillSearchAndAutocompleteTests::test_search_skills_by_prefix SKIPPED [ 69%]
core/tests/test_skills.py::SkillCategoryOrganizationTests::test_filter_skills_by_category PASSED [ 69%]
core/tests/test_skills.py::SkillCategoryOrganizationTests::test_get_skills_grouped_by_category SKIPPED [ 69%]
core/tests/test_skills.py::SkillReorderingTests::test_reorder_skills PASSED [ 70%]
core/tests/test_skills.py::SkillValidationTests::test_level_choices PASSED [ 70%]
core/tests/test_skills.py::SkillValidationTests::test_skill_name_required PASSED [ 70%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_analysis_with_trends PASSED [ 70%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_auto_create_missing_skills PASSED [ 70%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_full_analysis PASSED [ 70%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_gap_severity_computation_level_gap PASSED [ 71%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_gap_severity_computation_missing_skill PASSED [ 71%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_skill_extraction_from_description PASSED [ 71%]
core/tests/test_skills_gap.py::SkillsGapAnalyzerTestCase::test_skill_extraction_from_title PASSED [ 71%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_get_skills_gap_not_owned PASSED [ 71%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_get_skills_gap_success PASSED [ 72%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_get_skills_gap_unauthenticated PASSED [ 72%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_skills_gap_caching PASSED [ 72%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_skills_gap_refresh PASSED [ 72%]
core/tests/test_skills_gap.py::SkillsGapAPITestCase::test_skills_gap_with_similar_trends PASSED [ 72%]
core/tests/test_skills_gap.py::SkillProgressAPITestCase::test_get_skill_progress PASSED [ 73%]
core/tests/test_skills_gap.py::SkillProgressAPITestCase::test_invalid_progress_percent PASSED [ 73%]
core/tests/test_skills_gap.py::SkillProgressAPITestCase::test_log_skill_progress PASSED [ 73%]
core/tests/test_skills_gap.py::LearningResourceTestCase::test_create_learning_resource PASSED [ 73%]
core/tests/test_skills_gap.py::LearningResourceTestCase::test_resource_ordering PASSED [ 73%]
core/tests/test_tasks.py::test_process_import_job_creates_contacts PASSED [ 74%]
core/tests/test_tasks.py::test_process_import_job_handles_people_api_error PASSED [ 74%]
core/tests/test_tasks.py::test_process_import_job_handles_missing_email PASSED [ 74%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_response_includes_generation_metadata PASSED [ 74%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_returns_structured_prep_sections PASSED [ 74%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_logging_practice_updates_stats PASSED [ 74%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_non_technical_jobs_hide_coding_sections PASSED [ 75%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_software_engineer_roles_remain_technical PASSED [ 75%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_description_with_engineering_signals_marks_role_technical PASSED [ 75%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_cached_plan_reclassified_to_business PASSED [ 75%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_endpoint_returns_fallback_when_cache_missing PASSED [ 75%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_refresh_request_queues_generation_without_invalidating_cache PASSED [ 76%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_build_technical_prep_fallback_returns_structured_payload PASSED [ 76%]
core/tests/test_technical_prep.py::TestTechnicalPrepEndpoint::test_request_gemini_respects_build_budget PASSED [ 76%]
core/tests/test_user_persistence.py::test_user_account_created_and_email_normalized PASSED [ 76%]
core/tests/test_user_persistence.py::test_user_account_unique_email_constraint PASSED [ 76%]
core/tests/test_views_contacts.py::test_contacts_endpoints_auth_and_crud PASSED [ 77%]
core/tests/test_views_contacts_import_and_resume.py::test_contacts_import_start_and_callback_and_mutuals PASSED [ 77%]
core/tests/test_views_contacts_import_and_resume.py::test_resume_export_endpoint_smoke PASSED [ 77%]
core/tests/test_views_smoke_endpoints.py::test_views_smoke_endpoints PASSED [ 77%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_create_interview PASSED [ 77%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_mark_outreach_sent PASSED [ 77%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_mark_scheduled PASSED [ 78%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_mark_completed PASSED [ 78%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_json_fields PASSED [ 78%]
test_uc090_informational_interviews.py::TestInformationalInterviewModel::test_relationships PASSED [ 78%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_list_interviews PASSED [ 78%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_create_interview PASSED [ 79%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_retrieve_interview PASSED [ 79%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_update_interview PASSED [ 79%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_delete_interview PASSED [ 79%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_mark_outreach_sent_endpoint PASSED [ 79%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_mark_scheduled_endpoint PASSED [ 80%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_mark_completed_endpoint PASSED [ 80%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_filter_by_status PASSED [ 80%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_generate_outreach_template PASSED [ 80%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_generate_preparation_framework PASSED [ 80%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_analytics_endpoint PASSED [ 81%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_unauthorized_access PASSED [ 81%]
test_uc090_informational_interviews.py::TestInformationalInterviewAPI::test_cannot_access_other_users_interviews PASSED [ 81%]
test_uc090_informational_interviews.py::TestInformationalInterviewValidation::test_status_transition_validation PASSED [ 81%]
test_uc090_informational_interviews.py::TestInformationalInterviewValidation::test_relationship_strength_validation PASSED [ 81%]
test_uc090_informational_interviews.py::TestInformationalInterviewValidation::test_contact_ownership_validation PASSED [ 81%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_list_suggestions_empty PASSED [ 82%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_list_suggestions_with_data PASSED [ 82%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_filter_suggestions_by_type PASSED [ 82%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_filter_suggestions_by_status PASSED [ 82%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_get_suggestion_detail PASSED [ 82%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_update_suggestion_status PASSED [ 83%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_delete_suggestion PASSED [ 83%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_convert_suggestion_to_contact PASSED [ 83%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_cannot_access_other_user_suggestions PASSED [ 83%]
test_uc092_contact_discovery.py::TestContactSuggestionEndpoints::test_suggestions_ordered_by_relevance PASSED [ 83%]
test_uc092_contact_discovery.py::TestDiscoverySearchEndpoints::test_list_searches_empty PASSED [ 84%]
test_uc092_contact_discovery.py::TestDiscoverySearchEndpoints::test_create_discovery_search PASSED [ 84%]
test_uc092_contact_discovery.py::TestDiscoverySearchEndpoints::test_get_search_detail PASSED [ 84%]
test_uc092_contact_discovery.py::TestDiscoveryAnalytics::test_get_analytics_empty PASSED [ 84%]
test_uc092_contact_discovery.py::TestDiscoveryAnalytics::test_get_analytics_with_data PASSED [ 84%]
test_uc092_contact_discovery.py::TestDiscoveryAnalytics::test_analytics_conversion_rates PASSED [ 85%]
test_uc092_contact_discovery.py::TestContactSuggestionModel::test_create_suggestion PASSED [ 85%]
test_uc092_contact_discovery.py::TestContactSuggestionModel::test_suggestion_defaults PASSED [ 85%]
test_uc092_contact_discovery.py::TestContactSuggestionModel::test_suggestion_with_alumni_fields PASSED [ 85%]
test_uc092_contact_discovery.py::TestContactSuggestionModel::test_suggestion_with_mutual_connections PASSED [ 85%]
test_uc092_contact_discovery.py::TestDiscoverySearchModel::test_create_search PASSED [ 85%]
test_uc092_contact_discovery.py::TestDiscoverySearchModel::test_search_defaults PASSED [ 86%]
test_uc092_contact_discovery.py::TestDiscoverySearchModel::test_search_results_tracking PASSED [ 86%]
test_uc097_success_analysis.py::test_success_analysis PASSED             [ 86%]
core/tests/research/test_automated_company_research.py::TestCompanyResearchService::test_employee_count_formatting PASSED [ 86%]
core/tests/research/test_automated_company_research.py::TestAutomatedResearchEndpoint::test_requires_authentication PASSED [ 86%]
core/tests/research/test_company_news.py::test_fetch_recent_company_news_parses_items PASSED [ 87%]
core/tests/test_company_info.py::TestCompanyInfoEndpoint::test_company_info_requires_authentication PASSED [ 87%]
core/tests/test_google_import.py::test_build_google_auth_url PASSED      [ 87%]
core/tests/test_google_import.py::test_build_google_auth_url_requires_client_id PASSED [ 87%]
core/tests/test_google_import.py::test_exchange_code_for_tokens PASSED   [ 87%]
core/tests/test_google_import.py::test_exchange_code_for_tokens_requires_secret PASSED [ 88%]
core/tests/test_google_import.py::test_fetch_connections_pagination PASSED [ 88%]
core/tests/test_google_import.py::test_fetch_connections_raises_user_friendly_error_on_403 PASSED [ 88%]
core/tests/test_google_import.py::test_normalize_person PASSED           [ 88%]
core/tests/test_job_import.py::TestJobImportUtils::test_clean_text PASSED [ 88%]
core/tests/test_job_import.py::TestJobImportUtils::test_detect_job_board_linkedin PASSED [ 88%]
core/tests/test_job_import.py::TestJobImportUtils::test_detect_job_board_indeed PASSED [ 89%]
core/tests/test_job_import.py::TestJobImportUtils::test_detect_job_board_glassdoor PASSED [ 89%]
core/tests/test_job_import.py::TestJobImportUtils::test_detect_job_board_unsupported PASSED [ 89%]
core/tests/test_job_import.py::TestJobImportUtils::test_import_invalid_url PASSED [ 89%]
core/tests/test_job_import.py::TestJobImportUtils::test_import_generic_job_board PASSED [ 89%]
core/tests/test_job_import.py::TestJobImportUtils::test_import_generic_job_board_failure PASSED [ 90%]
core/tests/test_job_import.py::TestJobImportUtils::test_import_linkedin_success PASSED [ 90%]
core/tests/test_job_import.py::TestJobImportUtils::test_import_request_failure PASSED [ 90%]
core/tests/test_job_import.py::TestJobImportUtils::test_job_import_result_to_dict PASSED [ 90%]
core/tests/test_job_import_utils.py::test_clean_text_empty_and_whitespace PASSED [ 90%]
core/tests/test_job_import_utils.py::test_detect_job_board PASSED        [ 91%]
core/tests/test_job_import_utils.py::test_normalize_and_proxy_url PASSED [ 91%]
core/tests/test_job_import_utils.py::test_infer_job_type[Full-Time Software Engineer-ft] PASSED [ 91%]
core/tests/test_job_import_utils.py::test_infer_job_type[part time role-pt] PASSED [ 91%]
core/tests/test_job_import_utils.py::test_infer_job_type[This is a contract position-contract] PASSED [ 91%]
core/tests/test_job_import_utils.py::test_infer_job_type[Intern-intern] PASSED [ 92%]
core/tests/test_job_import_utils.py::test_infer_job_type[temporary gig-temp] PASSED [ 92%]
core/tests/test_job_import_utils.py::test_infer_job_type[nothing matched-None] PASSED [ 92%]
core/tests/test_job_import_utils.py::test_infer_job_type[-None] PASSED   [ 92%]
core/tests/test_job_import_utils.py::test_load_json_ld_objects_yields_dicts PASSED [ 92%]
core/tests/test_job_import_utils.py::test_import_job_from_url_invalid_inputs PASSED [ 92%]
core/tests/test_job_import_utils_branches.py::test_fetch_document_follows_canonical PASSED [ 93%]
core/tests/test_job_import_utils_branches.py::test_fetch_document_follows_meta_refresh PASSED [ 93%]
core/tests/test_job_import_utils_branches.py::test_format_fetch_error_timeout_and_connection PASSED [ 93%]
core/tests/test_job_import_utils_branches.py::test_extract_linkedin_job_parses_fields PASSED [ 93%]
core/tests/test_job_import_utils_branches.py::test_extract_indeed_job_parses_salary_and_title PASSED [ 93%]
core/tests/test_job_import_utils_branches.py::test_extract_glassdoor_job_parses_salary PASSED [ 94%]
core/tests/test_job_import_utils_branches.py::test_generic_meta_and_title_and_company PASSED [ 94%]
core/tests/test_job_import_utils_branches.py::test_generic_jsonld_employment_and_salary PASSED [ 94%]
core/tests/test_job_import_utils_branches.py::test_import_job_from_url_invalid_and_unsupported PASSED [ 94%]
core/tests/test_job_import_utils_more.py::test_clean_text_empty PASSED   [ 94%]
core/tests/test_job_import_utils_more.py::test_clean_text_normalizes_whitespace PASSED [ 95%]
core/tests/test_job_import_utils_more.py::test_detect_job_board PASSED   [ 95%]
core/tests/test_job_import_utils_more.py::test_normalize_and_proxy_url PASSED [ 95%]
core/tests/test_job_import_utils_more.py::test_infer_job_type PASSED     [ 95%]
core/tests/test_job_import_utils_more.py::test_load_json_ld_objects_dict_and_list PASSED [ 95%]
core/tests/test_job_import_utils_more.py::test_format_fetch_error_status_codes PASSED [ 96%]
core/tests/test_job_import_utils_more.py::test_fetch_job_soup_success PASSED [ 96%]
core/tests/test_job_import_utils_more.py::test_fetch_job_soup_proxy_fallback PASSED [ 96%]
core/tests/test_job_import_utils_more.py::test_extract_generic_job_from_jsonld PASSED [ 96%]
core/tests/test_job_import_utils_more.py::test_import_job_from_url_fallback PASSED [ 96%]
core/tests/test_job_matching.py::test_normalize_weights PASSED           [ 96%]
core/tests/test_job_matching.py::test_calculate_skills_score_empty PASSED [ 97%]
core/tests/test_job_matching.py::test_calculate_skills_score_with_data PASSED [ 97%]
core/tests/test_job_matching.py::test_calculate_match_score_integration PASSED [ 97%]
core/tests/test_resume_ai_simple.py::test_format_date_value_and_month_year PASSED [ 97%]
core/tests/test_resume_ai_simple.py::test_format_date_range PASSED       [ 97%]
core/tests/test_resume_ai_simple.py::test_fallback_bullets_and_degree_label PASSED [ 98%]
core/tests/test_resume_ai_simple.py::test_dedupe_and_beautify_and_extract_keywords PASSED [ 98%]
core/tests/test_resume_ai_simple.py::test_call_gemini_api_requires_key PASSED [ 98%]
core/tests/test_resume_ai_simple.py::test_build_generation_prompt_contains_snapshots PASSED [ 98%]
core/tests/test_resume_export.py::TestResumeExportService::test_get_available_themes PASSED [ 98%]
core/tests/test_resume_export.py::TestResumeExportAPI::test_export_unauthenticated PASSED [ 99%]
core/tests/test_views_smoke.py::test_views_module_importable PASSED      [ 99%]
test_analytics.py::test_analytics PASSED                                 [ 99%]
test_analytics_api.py::test_analytics_api PASSED                         [ 99%]
test_analytics_endpoint.py::test_analytics_endpoint PASSED               [ 99%]
test_cl_function.py::test_cover_letter_function PASSED                   [100%]

==================================== ERRORS ====================================
_ ERROR at setup of TestCompanyResearchService.test_comprehensive_research_flow _
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:103: in _execute
    return self.cursor.execute(sql)
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   psycopg2.errors.DuplicateDatabase: database "test_yourdb" already exists

The above exception was the direct cause of the following exception:
/usr/local/lib/python3.12/site-packages/django/db/backends/base/creation.py:204: in _create_test_db
    self._execute_create_test_db(cursor, test_db_params, keepdb)
/usr/local/lib/python3.12/site-packages/django/db/backends/postgresql/creation.py:46: in _execute_create_test_db
    super()._execute_create_test_db(cursor, parameters, keepdb)
/usr/local/lib/python3.12/site-packages/django/db/backends/base/creation.py:190: in _execute_create_test_db
    cursor.execute("CREATE DATABASE %(dbname)s %(suffix)s" % parameters)
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:103: in _execute
    return self.cursor.execute(sql)
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   django.db.utils.ProgrammingError: database "test_yourdb" already exists

During handling of the above exception, another exception occurred:
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:103: in _execute
    return self.cursor.execute(sql)
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   psycopg2.errors.ObjectInUse: database "test_yourdb" is being accessed by other users
E   DETAIL:  There is 1 other session using the database.

The above exception was the direct cause of the following exception:
/usr/local/lib/python3.12/site-packages/django/db/backends/base/creation.py:228: in _create_test_db
    cursor.execute("DROP DATABASE %(dbname)s" % test_db_params)
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py:103: in _execute
    return self.cursor.execute(sql)
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   django.db.utils.OperationalError: database "test_yourdb" is being accessed by other users
E   DETAIL:  There is 1 other session using the database.

During handling of the above exception, another exception occurred:
/usr/local/lib/python3.12/site-packages/pytest_django/fixtures.py:198: in django_db_setup
    db_cfg = setup_databases(
/usr/local/lib/python3.12/site-packages/django/test/utils.py:204: in setup_databases
    connection.creation.create_test_db(
/usr/local/lib/python3.12/site-packages/django/db/backends/base/creation.py:62: in create_test_db
    self._create_test_db(verbosity, autoclobber, keepdb)
/usr/local/lib/python3.12/site-packages/django/db/backends/base/creation.py:232: in _create_test_db
    sys.exit(2)
E   SystemExit: 2
---------------------------- Captured stderr setup -----------------------------
Creating test database for alias 'default'...
Got an error creating the test database: database "test_yourdb" already exists

Destroying old test database for alias 'default'...
Got an error recreating the test database: database "test_yourdb" is being accessed by other users
DETAIL:  There is 1 other session using the database.

=================================== FAILURES ===================================
_____ TestMockInterviewValidation.test_complete_already_completed_session ______
/Users/nishantnair/Downloads/cs-490-project/backend/core/tests/test_mock_interview.py:617: in test_complete_already_completed_session
    ???
E   assert 500 == 200
E    +  where 500 = <Response status_code=500, "application/json">.status_code
----------------------------- Captured stderr call -----------------------------
[WARNING] 2025-11-30 13:59:08,498 core.views | Session 41 marked completed but no summary found. Regenerating.
[INFO] 2025-11-30 13:59:08,499 core.views | Completing session 41: 1/1 answered
[INFO] 2025-11-30 13:59:08,499 core.views | Calculated overall score: 80.00
[INFO] 2025-11-30 13:59:08,500 core.views | Session 41 marked as completed
[INFO] 2025-11-30 13:59:17,885 core.views | Successfully generated AI summary for session 41
[ERROR] 2025-11-30 13:59:17,894 core.views | Error creating summary: value too long for type character varying(20)

[ERROR] 2025-11-30 13:59:17,894 core.views | Unexpected error completing interview 41: value too long for type character varying(20)
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: value too long for type character varying(20)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/core/views.py", line 15354, in complete_mock_interview
    summary = MockInterviewSummary.objects.create(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 665, in create
    obj.save(force_insert=True, using=self.db)
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 902, in save
    self.save_base(
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1008, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1169, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1210, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/query.py", line 1873, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.DataError: value too long for type character varying(20)

[ERROR] 2025-11-30 13:59:17,906 django.request | Internal Server Error: /api/mock-interviews/complete
=============================== warnings summary ===============================
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_invalid_question_count
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_question_count_too_high
core/tests/test_mock_interview.py::TestMockInterviewValidation::test_complete_already_completed_session
  /usr/local/lib/python3.12/site-packages/google/genai/types.py:2479: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    for field_name, field_value in part.dict(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED core/tests/test_mock_interview.py::TestMockInterviewValidation::test_complete_already_completed_session
ERROR core/tests/research/test_automated_company_research.py::TestCompanyResearchService::test_comprehensive_research_flow
== 1 failed, 520 passed, 5 skipped, 3 warnings, 1 error in 208.31s (0:03:28) ===
